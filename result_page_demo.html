<!DOCTYPE html> 
<html lang="en">
    <head>
        <title> Your Result</title>
        <meta charset="UTF-8">
        <meta name="viewpoint" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="result_page_demo.css"> 
    </head>

    <body>
        <h1>My ZODIAC is . . .</h1>
        <h2 id = "main_name">YELLOW COW</h2>

        <div class = 'parents'>
            <div class = main_pic_circle> <img src="zodiac_pic_noback/backcircle.png" width = '800'>  </div>
            <div class = main_pic_aniaml> <img id = "main_pic_aniaml" src="zodiac_pic_noback/cow.png" width = '800'>  </div>
            
            <div class = "color_explain">
                <h3>
                    <div id = 'trait_color'>Traits of Yellow</div>
                </h3>
                <br>
                yellowyellowyellowyellowyellowy ellowyellowyellow
                yellowyellowyellowyell owyellowyellowyellowyellow
                dfssfsdafsafsaffsafsfa sfsafasfddddddddddddddddddd
                dfssfsdafsafsaffsafs fasfsafasfddddddddddddddddddd

            </div>
        
            <div class = "zodiac_explain"> 
                <h3>
                    <div id = "trait_animal">Traits of Cow</div>
                </h3>
                <br>
                CowCowCowCowCowCowCowCowCowCow CowCowCowCowCowCowCow
                CowCowCowCowCowCowCowCowCowCow CowCowCowCowCowCowCow
                CowCowCowCowCowCowCowCowCowCow CowCowCowCowCowCowCow
                CowCowCowCowCowCowCowCowCowCow CowCowCowCowCowCowCow
            </div>
            

            <div class = bestie>
                <h3>
                    <strong> Your Bestie </strong>
                </h3>
                <br>
                <div id = 'bestie_name'>Yellow Cow</div>
                <br>
                <div class = sub_img_circle_1> <img src="zodiac_pic_noback/backcircle.png" width = '300'> </div>
                <div class = sub_img_aniaml_best> <img onclick="moveToBestie();" id = "sub_pic_aniaml_best" src="zodiac_pic_noback/horse.png" width = '300'>  </div>
            </div>

            <div class = worst>
                <h3>
                    <strong> Be Careful...! </strong>
                </h3>
                <br>
                <div id = 'worst_name'>Yellow Cow</div>
                <br>
                <div class = sub_img_circle_2> <img src="zodiac_pic_noback/backcircle.png" width = '300'> </div>
                <div class = sub_img_aniaml_worst> <img onclick="moveToWorst();" id = 'sub_pic_aniaml_worst' src="zodiac_pic_noback/snake.png" width = '300'>  </div>
            </div>
        

        <!-- for jquery -->
        <script
            src="https://code.jquery.com/jquery-3.5.1.js"
            integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc="
            crossorigin="anonymous">
        </script>

        <script>
            // the javascript array resultArray is now in Page 2 as const [animal, color, bestAnimal, bestColor, worstAnimal, worstColor];
            const resultArray = JSON.parse(sessionStorage.getItem("resultArray"));

            // var resultArray = ["Cow", "Red", "Horse", "Red", "Rabbit", "White"];
            // document.write(resultArray[0]);

            function AnimalPic(pic_id, animal){

                if(animal == "Cow"){
                    document.getElementById(pic_id).src="zodiac_pic_noback/cow.png";
                
                }
                else if(animal == "Tiger"){
                    document.getElementById(pic_id).src="zodiac_pic_noback/tiger.png";
                }

                else if(animal == "Rabbit"){
                    document.getElementById(pic_id).src="zodiac_pic_noback/rabbit.png";
                }

                else if(animal == "Dragon"){
                    document.getElementById(pic_id).src="zodiac_pic_noback/dragon.png";
                }

                else if(animal == "Snake"){
                    document.getElementById(pic_id).src="zodiac_pic_noback/snake.png";
                }

                else if(animal == "Horse"){
                    document.getElementById(pic_id).src="zodiac_pic_noback/horse.png";
                }

                else if(animal == "Sheep"){
                    document.getElementById(pic_id).src="zodiac_pic_noback/sheep.png";
                }

                else if(animal == "Monkey"){
                    document.getElementById(pic_id).src="zodiac_pic_noback/monkey.png";
                }

                else if(animal == "Rooster"){
                    document.getElementById(pic_id).src="zodiac_pic_noback/rooster.png";
                }

                else if(animal == "Dog"){
                    document.getElementById(pic_id).src="zodiac_pic_noback/dog.png";
                }

                else if(animal == "Pig"){
                    document.getElementById(pic_id).src="zodiac_pic_noback/pig.png";
                }

                else if(animal == "Rat"){
                    document.getElementById(pic_id).src="zodiac_pic_noback/rat.png";
                }
            }
                /*For color filter*/
            function ColorFliter(pic_id, color){
                if(color == "White"){
                $(pic_id).css('filter', 'invert(81%) sepia(0%) saturate(35%) hue-rotate(231deg) brightness(98%) contrast(90%)')
                }
                if(color == "Black"){
                $(pic_id).css('filter', 'invert(0%) sepia(95%) saturate(20%) hue-rotate(223deg) brightness(86%) contrast(101%)')
                }
                if(color == "Blue"){
                $(pic_id).css('filter', 'invert(21%) sepia(84%) saturate(1462%) hue-rotate(215deg) brightness(101%) contrast(86%)')
                }
                if(color == "Red"){
                $(pic_id).css('filter', 'invert(39%) sepia(89%) saturate(1165%) hue-rotate(340deg) brightness(84%) contrast(105%)')
                }
                if(color == "Yellow"){
                $(pic_id).css('filter', 'invert(87%) sepia(21%) saturate(6975%) hue-rotate(7deg) brightness(98%) contrast(105%)')
            }
        }
            
            /*change main animal pic*/
            AnimalPic("main_pic_aniaml",resultArray[0])

            /*change sub best animal pic*/
            AnimalPic("sub_pic_aniaml_best",resultArray[2])
            
            /*change sub worst animal pic*/
            AnimalPic("sub_pic_aniaml_worst",resultArray[4])

            /*change the main name*/
            document.getElementById('main_name').innerHTML = resultArray[1] + ' ' + resultArray[0];

            /*change the bestie name*/
            document.getElementById('bestie_name').innerHTML = resultArray[3] + ' ' + resultArray[2];

            /*change the worst name*/
            document.getElementById('worst_name').innerHTML = resultArray[5] + ' ' + resultArray[4];
            
            /*Traits of Animal*/
            document.getElementById('trait_animal').innerHTML = "Traits of " + resultArray[0];

            /*Traits of color*/
            document.getElementById('trait_color').innerHTML = "Traits of " + resultArray[1];
        

            //main animal filter
            ColorFliter('.main_pic_aniaml', resultArray[1]);
           
            //bestie animal filter
            ColorFliter('.sub_img_aniaml_best', resultArray[3]);

            //worst animal filter
            ColorFliter('.sub_img_aniaml_worst', resultArray[5]);
        



        const animalList = ["Sheep", "Monkey", "Rooster", "Dog", "Pig", "Rat",  "Cow", "Tiger", "Rabbit", "Dragon", "Snake", "Horse"];
        const colorList = ["White","White", "Black","Black", "Blue","Blue", "Red","Red", "Yellow", "Yellow"];

        var animal_ = resultArray[0];
        var color_ =  resultArray[1];

        //// best animal and best color
        var bestAnimal_ = resultArray[2];
        var bestColor_  = resultArray[3];
        
        //// worst animal and worst color
        var worstAnimal_ = resultArray[4];
        var worstColor_  = resultArray[5];

        function moveToBestie() {
            
            var animal_idx = animalList.indexOf(bestAnimal_);
            var color_idx = colorList.indexOf(bestColor_);
            // console.log(`${animal_idx}, ${color_idx}`);

            //// animal and color by itself
            var animal = animalList[animal_idx];
            var color =  colorList[color_idx];
            // console.log(`${animal}, ${color}`);

            //// best animal and best color
            var bestAnimal = animalList[11 - animal_idx];
            var bestColor  = colorList[ (color_idx + 2) % 10];
            // console.log(`${bestAnimal}, ${bestColor}`);
            
            //// worst animal and worst color
            var worstAnimal = animalList[ (animal_idx + 6) % 12];
            var worstColor  = colorList[ (color_idx + 4) % 10];
            // console.log(`${worstAnimal}, ${worstColor}`);
            
            const resultArray = [animal, color, bestAnimal, bestColor, worstAnimal, worstColor];
            console.log(resultArray);
            sessionStorage.setItem("resultArray", JSON.stringify(resultArray));
            // JSON.stringify(resultArray) converts the resultArray into a string which can be stored in sessionStorage

            window.open("result_page_demo.html", "_self");

        }

        function moveToWorst() {

            
            // Calculate animal and color
            
            const animal_idx = animalList.indexOf(worstAnimal_);
            const color_idx = colorList.indexOf(worstColor_);
            // console.log(`${animal_idx}, ${color_idx}`);

            //// animal and color by itself
            var animal = animalList[animal_idx];
            var color =  colorList[color_idx];
            // console.log(`${animal}, ${color}`);

            //// best animal and best color
            var bestAnimal = animalList[11 - animal_idx];
            var bestColor  = colorList[ (color_idx + 2) % 10];
            // console.log(`${bestAnimal}, ${bestColor}`);
            
            //// worst animal and worst color
            var worstAnimal = animalList[ (animal_idx + 6) % 12];
            var worstColor  = colorList[ (color_idx + 4) % 10];
            // console.log(`${worstAnimal}, ${worstColor}`);
            
            const resultArray = [animal, color, bestAnimal, bestColor, worstAnimal, worstColor];
            console.log(resultArray);
            sessionStorage.setItem("resultArray", JSON.stringify(resultArray));
            // JSON.stringify(resultArray) converts the resultArray into a string which can be stored in sessionStorage

            window.open("result_page_demo.html", "_self");
        }

        </script>
    </body>
    <br>
    <footer>Copyright By Team <strong>BABO</strong></footer>
</html>
